# 実装履歴 (Implementation History)

## フェーズ 1: プロジェクト初期化と基盤構築
- Expo (React Native) によるプロジェクトの立ち上げ。
- 必要なセンサー系ライブラリ (`expo-camera`, `expo-location`, `expo-sensors`) の導入。
- Firebase 匿名ログインによる認証基盤の整備。

## フェーズ 2: AR表示機能と数学ロジック
- `arUtils.ts` による2点間の距離・方位角の計算ロジックの実装。
- 住所文字列からの階数抽出と垂直位置（Y座標）への反映。
- `ARPanel` コンポーネントによるグラスモーフィズムデザインの適用。

## フェーズ 3: ユーザー体験の最適化
- **センサーの安定化**: 
    - ローパスフィルターの導入。
    - 磁気センサーのノイズ（荒ぶり）を抑えるためのデッドゾーン（遊び）の設定。
- **UI/UXの改善**:
    - 検索FABおよび詳細絞り込みモーダルの実装。
    - 評価なし店舗のハンドリング。
    - 具体的所在地（沖縄県南風原町周辺）に合わせた動作確認用データの追加。

## 解決済みの主要な課題
- **Firebase初期化エラー**: Hot Reload時の重複初期化をシングルトンパターンで解消。
- **CameraViewのオーバーレイ警告**: CameraViewを背景として独立させ、絶対配置でUIを重ねる構造に変更。
- **SafeAreaViewの警告**: 推奨ライブラリ `react-native-safe-area-context` への移行。

---
最新の進捗状況は、プロジェクト内の `docs/specifications.md` を参照してください。
